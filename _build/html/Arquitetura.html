
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="pt-BR">
  <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Módulos do Sistema &#8212; AJNA 0.1a documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Histórias de Usuário" href="UserStories.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p><a class="reference external" href="../index.html">Voltar ao Indice</a></p>
<div class="contents topic" id="topicos">
<p class="topic-title first">Tópicos</p>
<ul class="simple">
<li><a class="reference internal" href="#modulos-do-sistema" id="id1">Módulos do Sistema</a><ul>
<li><a class="reference internal" href="#avatar" id="id2">AVATAR</a></li>
<li><a class="reference internal" href="#bhadrasana" id="id3">BHADRASANA</a></li>
<li><a class="reference internal" href="#virasana" id="id4">VIRASANA</a></li>
<li><a class="reference internal" href="#padma" id="id5">PADMA</a></li>
</ul>
</li>
<li><a class="reference internal" href="#arquitetura-do-sistema" id="id6">Arquitetura do Sistema</a><ul>
<li><a class="reference internal" href="#descricao-do-pipeline-basico" id="id7">Descrição do ‘Pipeline’ básico</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="modulos-do-sistema">
<h1><a class="toc-backref" href="#id1">Módulos do Sistema</a><a class="headerlink" href="#modulos-do-sistema" title="Permalink to this headline">¶</a></h1>
<div class="section" id="avatar">
<h2><a class="toc-backref" href="#id2">AVATAR</a><a class="headerlink" href="#avatar" title="Permalink to this headline">¶</a></h2>
<p>Interface para cadastramento de fontes de imagens, usuários, configuração de parâmetros, etc
Podem existir várias versões do AVATAR, de acordo com a necessidade (para diferentes portos,
aeroportos, remessa expressa, etc)</p>
<div class="section" id="image-aq">
<h3>image_aq<a class="headerlink" href="#image-aq" title="Permalink to this headline">¶</a></h3>
<p>Serviço interno do AVATAR.
Aquisição de imagens. Serviço com Scripts que acessam as fontes de imagens cadastradas,
validam, pré-processam, fazem reconhecimento de caracteres, validam,
monitoram mudanças, etc e copiam para um diretório único.</p>
<p>As imagens são arquivadas em diretório no formato &lt;Nome_da_Fonte_de_Imagens&gt;/&lt;Ano&gt;/&lt;Mes&gt;/&lt;dia&gt;.
Se possível, será armazenada a imagem original. No mínimo será armazenada uma cópia em menor resolução
(e sem outras transformações) da imagem original, além dos metadados (xml original ou outro).
Deve ser provida uma forma de proteger contra modificações (read-only).</p>
<p>Exporta seus dados em lotes para arquivo BSON.</p>
</div>
</div>
<div class="section" id="bhadrasana">
<h2><a class="toc-backref" href="#id3">BHADRASANA</a><a class="headerlink" href="#bhadrasana" title="Permalink to this headline">¶</a></h2>
<p>Aquisição de dados. Serviço com scripts que acessam sistemas fechados e dados públicos,
estruturados e não estruturados, guardando em coleções/Bancos de Dados.</p>
<p>Os dados são arquivadas em diretório no formato &lt;Nome_da_Base_Original&gt;/&lt;Ano&gt;/&lt;Mes&gt;/&lt;dia&gt;/&lt;Codigo_Extracao&gt;
A BaseOriginal será armazenada em csv no padrão cabeçalho na primeira linha com nomes dos campos,
separador vírgula, e somente isso(rfc4180 - forma mais simples). As “Strings” originais dos dados terão sempre
os espaços à direita e esquerda removidas e serão normalizados para Unicode NFC sem acentos e caracteres especiais,
com espaços únicos entre as palavras e letras minúsculas. Todos os dados originais serão tratados como Strings. Estas
precauções servirão para facilitar buscas, comparações e evitar problemas de codificação e compatibilidade
futuras e em interações com outros sistemas.</p>
<p>Os Dados importados são arquivados em um banco MongoDB, no formato original do CSV</p>
<div class="section" id="sentinela">
<h3>Sentinela<a class="headerlink" href="#sentinela" title="Permalink to this headline">¶</a></h3>
<p>Interface gráfica do BHADRASANA.</p>
<p>Controla o BHADRASANA, permite cruzamento de dados e gerenciamento, manual ou automático, de parâmetros de risco.</p>
<p>Interface para cadastramento e configuração das Fontes de Dados(Configura modo de merge entre as tabelas originais,
filtragens, etc)</p>
<p>Estas configurações permitirão a migração automática, se necessário, dos dados dos CSV originais para MongoDB</p>
<p>Quando o sistema original não permitir sincronização/extração automática, sentinela proverá interface para
alimentação manual da base.</p>
<p>Disponibiliza seus dados em Restful API.</p>
</div>
</div>
<div class="section" id="virasana">
<h2><a class="toc-backref" href="#id4">VIRASANA</a><a class="headerlink" href="#virasana" title="Permalink to this headline">¶</a></h2>
<p>Banco de Dados de imagens.</p>
<p>Importa arquivos BSON dos AVATARES.</p>
<p>Submódulo integração provê, para cada Fonte de Dados, scripts para ETL (Extração, Transformação e ‘LOAD’), adicionando
aos metadados das imagens os dados das Fontes de Dados e análises do PADMA.</p>
<p>Serviço Celery rodará periodicamente a importação de imagens de BSON e a anexação de metadados.</p>
<p>Provê também interface para visualização e busca de imagens e execução,
manual ou automática, dos algoritmos do módulo PADMA nas imagens.</p>
<p>Disponibiliza seus dados em Restful API.</p>
</div>
<div class="section" id="padma">
<h2><a class="toc-backref" href="#id5">PADMA</a><a class="headerlink" href="#padma" title="Permalink to this headline">¶</a></h2>
<p>Coleção de algoritmos de machine learning plugáveis e servidos em WebService/JSON API.</p>
<div class="section" id="notebooks-scripts">
<h3>notebooks/scripts<a class="headerlink" href="#notebooks-scripts" title="Permalink to this headline">¶</a></h3>
<p>Rascunhos. Aproveitar a interatividade e praticidade do Jupyter Notebook/JupyterLab
para fazer e documentar as análises exploratórias de dados,
treinamento e teste de algoritmos de aprendizado de máquina.</p>
</div>
</div>
</div>
<div class="section" id="arquitetura-do-sistema">
<h1><a class="toc-backref" href="#id6">Arquitetura do Sistema</a><a class="headerlink" href="#arquitetura-do-sistema" title="Permalink to this headline">¶</a></h1>
<div class="section" id="descricao-do-pipeline-basico">
<h2><a class="toc-backref" href="#id7">Descrição do ‘Pipeline’ básico</a><a class="headerlink" href="#descricao-do-pipeline-basico" title="Permalink to this headline">¶</a></h2>
<div class="section" id="importacao">
<h3>Importação<a class="headerlink" href="#importacao" title="Permalink to this headline">¶</a></h3>
<p>Serviços(A) - caso possível por senha, token ou certificado digital de Servidor - extraem
informações periodicamente de diversos sistemas.
Estes ficam guardados no formato original do Sistema.
Caso o Sistema fonte necessite de digitação manual de senha, Usuário(B) iniciará a extração manual.</p>
<p>Obs: Estes sistemas fonte de dados precisarão estar documentados/listados
e em rotinas de trabalho (caso B).
Um serviço mestre utilizará esta lista de serviços para detectar serviços
não funcionando e alertar. Um serviço de log mestre deve permitir
acompanhar o histórico de importações, e se há sucesso ou falha.</p>
<p>Esta camada será executada por um serviço Celery</p>
<p>Ex.:</p>
<ul class="simple">
<li>bhadrasana conectando aos sistemas dos terminais</li>
<li>virasana capturando imagens conforme disponibilizadas</li>
<li>Usuário fazendo extração do Siscomex Carga em interface do bhadrasana</li>
<li>Usuário informando nova imagem em interface do virasana</li>
<li>Integração automática com Aniita ou Contágil</li>
</ul>
</div>
<div class="section" id="pre-processamento">
<h3>Pré-processamento<a class="headerlink" href="#pre-processamento" title="Permalink to this headline">¶</a></h3>
<p>Uma segunda camada irá  processar previamente os dados e colocá-los em formato mais
amigável para integração com as etapas seguintes.
Serão “normalizados” campos, pré-indexadas imagens, descompactados arquivos,
checar integridade, etc.</p>
<p>Esta camada será executada por um segundo serviço Celery rodando no Servidor virasana.
Serão utilizadas bases/funcões de outros módulos, mas serão executados por este módulo.</p>
<p>Este módulo não tem interface de usuário.
Todas as ações configuráveis são pré-programadas no bhadrasana ou no virasana.
Algumas ações serão “hard-coded”.</p>
<p>Ex.:</p>
<ul class="simple">
<li>virasana fazendo miniatura das imagens e gerando índice destas</li>
<li>bhadrasana mudando títulos de csvs de diferentes terminais mas que possuem as mesmas informações.</li>
</ul>
</div>
<div class="section" id="checagens-de-seguranca">
<h3>Checagens de segurança<a class="headerlink" href="#checagens-de-seguranca" title="Permalink to this headline">¶</a></h3>
<p>Esta camada estará integrada no módulo virasana ou no próprio módulo Avatar.
Serão feitas análises básicas e emitidos alertas.</p>
<p>Exemplo:</p>
<ul class="simple">
<li>Foi gerada nova imagem para contêiner já escaneado? É igual? Data do sistema de controle de escaneamentos bate com a da imagem?</li>
<li>OCR da imagem bate com número do contêiner informado no XML?</li>
<li>Foi retificada informação de Sistema já importada?</li>
</ul>
</div>
<div class="section" id="analises-de-risco">
<h3>Análises de Risco<a class="headerlink" href="#analises-de-risco" title="Permalink to this headline">¶</a></h3>
<p>Poderão ser automáticas ou manuais. Realizadas no sistema bhadrasana.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Módulos do Sistema</a><ul>
<li><a class="reference internal" href="#avatar">AVATAR</a><ul>
<li><a class="reference internal" href="#image-aq">image_aq</a></li>
</ul>
</li>
<li><a class="reference internal" href="#bhadrasana">BHADRASANA</a><ul>
<li><a class="reference internal" href="#sentinela">Sentinela</a></li>
</ul>
</li>
<li><a class="reference internal" href="#virasana">VIRASANA</a></li>
<li><a class="reference internal" href="#padma">PADMA</a><ul>
<li><a class="reference internal" href="#notebooks-scripts">notebooks/scripts</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#arquitetura-do-sistema">Arquitetura do Sistema</a><ul>
<li><a class="reference internal" href="#descricao-do-pipeline-basico">Descrição do ‘Pipeline’ básico</a><ul>
<li><a class="reference internal" href="#importacao">Importação</a></li>
<li><a class="reference internal" href="#pre-processamento">Pré-processamento</a></li>
<li><a class="reference internal" href="#checagens-de-seguranca">Checagens de segurança</a></li>
<li><a class="reference internal" href="#analises-de-risco">Análises de Risco</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="UserStories.html" title="previous chapter">Histórias de Usuário</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, RFB.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/Arquitetura.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>